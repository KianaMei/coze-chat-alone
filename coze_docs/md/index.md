https://www.coze.cn/open/docs/developer_guides

# 扣子
创建
[主页](https://www.coze.cn/sign)[项目开发](https://www.coze.cn/sign)[资源库](https://www.coze.cn/sign)[任务中心](https://www.coze.cn/sign)[效果评测](https://www.coze.cn/sign)[空间配置](https://www.coze.cn/sign)
[模板商店](https://www.coze.cn/sign)[插件商店](https://www.coze.cn/sign)[作品社区](https://www.coze.cn/sign)[API 管理](https://www.coze.cn/open/playground)[文档中心](https://www.coze.cn/open/docs/guides)
目录取消固定
[使用指南](https://www.coze.cn/open/docs/guides)
[开发指南](https://www.coze.cn/open/docs/dev_how_to_guides)
[API 和 SDK](index.html)
API 参考
[API 介绍](coze_api_overview.html)[更新日志](changelog.html)[准备工作](preparation.html)[API Playground](api_playground.html)
鉴权
[鉴权方式概述](authentication.html)[添加个人访问令牌](pat.html)[添加服务访问令牌](service_token.html)[OAuth 应用管理](oauth_apps.html)[通过示例文件体验 OAuth 授权流程](ouath_demo.html)[OAuth 授权码授权](oauth_code.html)[OAuth PKCE](oauth_pkce.html)[OAuth 设备授权](oauth_device_code.html)[OAuth JWT 授权（开发者）](oauth_jwt.html)[OAuth JWT 授权（渠道场景）](oauth_jwt_channel.html)[OAuth JWT 授权（跨账号授权场景）](oauth_jwt_collaborate.html)[OAuth JWT 授权（企业特权应用）](oauth_jwt_privilege.html)[OAuth 授权（多人协作场景）](oauth_collaborate.html)[鉴权常见问题](authentication_faq.html)
智能体和应用
[创建智能体](create_bot.html)[更新智能体](update_bot.html)[发布智能体](publish_bot.html)[查看智能体列表](bots_list_draft_published.html)[查看智能体配置](get_metadata_draft_published.html)[开启或关闭智能体多人协作](switch_bot_develop_mode.html)[添加智能体的协作者](add_bot_collaborator.html)[添加应用的协作者](add_app_collaborator.html)[删除智能体的协作者](remove_bot_collaborator.html)[删除应用的协作者](remove_app_collaborator.html)[查看智能体版本列表](list_bot_versions.html)[复制资源](copy_resource_task.html)[查询资源复制的结果](query_resource_copy_execution_result.html)[下架智能体](unpublish_agent.html)[Bot object](bot_object.html)[查看应用列表](published_apps_list.html)[智能体发布回调事件](agent_callback_messages.html)[智能体删除回调事件](agent_delete_callback_messages.html)[智能体下架回调事件](agent_unpublished_callback_messages.html)
工作空间
[创建工作空间](create_workspace.html)[查看空间列表](list_workspace.html)[修改工作空间基本信息](update_workspace_info.html)[查看空间成员列表](list_space_member.html)[批量邀请用户加入空间](add_space_member.html)[批量移除空间中的用户](remove_space_member.html)
文件夹
[查询文件夹列表](workspace_list_folder.html)[查询文件夹详情](workspace_read_folder.html)
企业/组织
[成员管理（火山 API）](create_coze_user.html)[添加团队/企业成员](add_enterprise_member.html)[修改企业员工的角色](update_enterprise_people.html)[移除团队/企业成员](remove_enterprise_member.html)[创建组织](create_organization.html)[修改组织基本信息](update_organization_info.html)[查询组织列表](list_organization.html)[添加组织成员](add_organization_people.html)[查询组织成员列表](list_organization_people.html)[修改组织成员角色](update_organization_people.html)[移除组织成员](remove_organization_member.html)
会话与消息
[创建会话](create_conversation.html)[查看会话信息](retrieve_conversation.html)[查看会话列表](list_conversations.html)[更新会话名称](edit_conversation.html)[删除会话](delete_conversation.html)[清除上下文](clear_conversation_context.html)[创建消息](create_message.html)[查看消息列表](list_message.html)[查看消息详情](retrieve_message.html)[修改消息](modify_message.html)[删除消息](delete_message.html)[消息 type 说明](message_type.html)[提交消息评价](message_feedback.html)[删除消息评价](delete_message_feedback.html)
对话
[发起对话](chat_v3.html)[查看对话详情](retrieve_chat.html)[查看对话消息详情](list_chat_messages.html)[提交工具执行结果](chat_submit_tool_outputs.html)[取消进行中的对话](chat_cancel.html)
工作流
[执行工作流](workflow_run.html)[执行工作流（流式响应）](workflow_stream_run.html)[恢复运行工作流（流式响应）](workflow_resume.html)[恢复运行工作流](resume_workflow.html)[查询工作流异步运行结果](workflow_history.html)[执行对话流](workflow_chat.html)[查询输出节点的执行结果](get_node_execute_history_response.html)[查询工作流列表](get_workflow_list.html)[查询工作流基本信息](get_workflow_info.html)[查询工作流的版本列表](list_workflow_version.html)[开启或关闭工作流多人协作](switch_workflow_develop_mode.html)[添加工作流协作者](add_workflow_collaborator.html)[删除工作流协作者](remove_workflow_collaborator.html)
文件
[上传文件](upload_files.html)[查看文件详情](retrieve_files.html)
智能音视频
ASR、TTS 与音色
[查看音色列表](list_voices.html)[语音合成](text_to_speech.html)[语音识别](audio_transcriptions.html)[复刻音色](clone_voices.html)
RTC 语音
[创建房间](create_room.html)[Realtime 上行事件](signaling_uplink_event.html)[Realtime 下行事件](signaling_downlink_event.html)[Realtime 事件错误码](realtime_error_codes.html)
WebSocket 语音
[双向流式语音识别](asr_api.html)[双向流式语音识别事件](asr_event.html)[双向流式语音合成](tts_api.html)[双向流式语音合成事件](tts_event.html)[双向流式语音对话](streaming_chat_api.html)[双向流式对话上行事件](streaming_chat_event.html)[双向流式对话下行事件](streaming_chat_downlink_event.html)
声纹识别
[创建声纹组](create_voiceprint_group.html)[查询声纹组列表](list_voiceprint_group.html)[更新声纹组信息](update_voiceprint_group.html)[删除声纹组](delete_voiceprint_group.html)[创建声纹](create_voiceprint.html)[更新声纹](update_voiceprint.html)[查询声纹列表](list_voiceprint.html)[删除声纹](delete_voiceprint.html)[声纹特征比对](identify_voiceprint.html)
知识库
[创建知识库](create_dataset.html)[查看知识库列表](list_dataset.html)[修改知识库信息](update_dataset.html)[删除知识库](delete_dataset.html)[创建知识库文件](create_knowledge_files.html)[修改知识库文件](modify_knowledge_files.html)[查看知识库文件列表](list_knowledge_files.html)[查看知识库文件上传进度](get_dataset_progress.html)[更新知识库图片描述](update_image_caption.html)[查看知识库图片列表](get_images.html)[删除知识库文件](delete_knowdge_files.html)
插件
[查询付费插件列表](list_plugin.html)[查询插件分类](list_plugin_category.html)[查询插件详情](get_plugin.html)[批量查询插件信息](batch_get_plugins_info.html)[调用插件工具](call_plugin_tool.html)[申请插件扩容回调事件](benefit_plugin_scale_requested.html)[插件扩容到期回调事件](benefit_plugin_scale_expired.html)
变量
[设置用户变量的值](update_variable.html)[获取用户变量的值](read_variable.html)
渠道
[更新审核结果](update_review_result.html)[添加发布平台](install_channel.html)[绑定设备](bind_connector_config.html)
终端用户配额管控
[创建终端用户权益额度](create_device_quotas.html)[查询终端用户的权益配额](get_device_quotas.html)[更新终端用户的权益额度](update_device_quotas.html)
账单与权益
[导出终端用户账单](create_bill_task.html)[查询账单文件](billing_file.html)[查询套餐权益](get_benefit.html)[账单推送回调事件](billing_callback_message.html)
回调
[创建回调应用](create_callback_app.html)[修改回调应用](update_callback_app.html)[查询回调应用列表](list_callback_app.html)[删除回调应用](delete_callback_app.html)[订阅回调事件](subscribe_callback_message.html)[查询已订阅的事件](list_subscribed_callback_message.html)[取消订阅事件](unsubscribe_callback_message.html)
历史版本接口
[【Deprecated】查看已发布智能体列表](published_bots_list.html)[【Deprecated】获取已发布智能体的配置](get_metadata.html)
[错误码](coze_error_codes.html)[API 常见问题](api_faq.html)[模型能力差异](model_api_param_support.html)
最佳实践
[通过对话接口获取智能体回复](get_chat_response.html)[错误码 4100/4101 问题排查](troubleshooting_4100_4101.html)[如何实现会话隔离](session_isolation.html)[升级企业/团队版后更新 API 授权](update_authorization.html)
SDK 参考
Chat SDK
[Chat SDK 概述](web_sdk_overview.html)[安装并使用 Chat SDK](install_web_sdk.html)[Chat SDK 发布历史](web_sdk_changelog.html)[（历史版本）Chat SDK](web_sdk.html)[Chat SDK 常见问题](chat_sdk_faq.html)
Python SDK
[Python SDK 概述](python_overview.html)[安装 Python SDK](python_installation.html)[配置访问密钥](python_access_token.html)[快速开始](python_getting_started.html)
Node.js SDK
[Node.js SDK 概述](nodejs_overview.html)[安装 Node.js SDK](nodejs_install.html)[配置访问密钥](nodejs_access_token.html)[快速开始](nodejs_getting_started.html)
Java SDK
[Java SDK 概述](java_overview.html)[安装 Java SDK](java_installation.html)[配置访问密钥](java_access_token.html)[快速开始](java_getting_started.html)
Go SDK
[Go SDK 概述](go_overview.html)[安装 Go SDK](go_installation.html)[配置访问密钥](go_access_token.html)[快速开始](go_getting_started.html)
Web SDK
[安装并使用 Web SDK](ui_builder_web_sdk.html)
Card SDK
[安装并使用 Card SDK](card_sdk.html)
[实践教程](https://www.coze.cn/open/docs/tutorial)
[扣子空间](https://www.coze.cn/open/docs/cozespace)
[扣子罗盘](https://www.coze.cn/open/docs/cozeloop)
[客户案例](https://www.coze.cn/open/docs/customers)
[定价与购买](https://www.coze.cn/open/docs/coze_pro)
目录
大纲
API 介绍
[扣子](https://www.coze.cn/?utm_medium=&utm_source=api_doc&utm_content=landingpage&utm_id=&utm_campaign=&utm_term=&utm_source_platform=)是新一代一站式 AI 智能体开发平台。无论你是否有编程基础，都可以在平台上快速搭建基于 AI 模型的各类问答智能体。而且你可以将搭建的智能体发布到各类社交平台和通讯软件上，让更多的用户与你搭建的智能体聊天。​
[扣子](https://www.coze.cn/?utm_medium=&utm_source=api_doc&utm_content=landingpage&utm_id=&utm_campaign=&utm_term=&utm_source_platform=)支持将 AI 智能体和扣子应用发布为 API 服务，你可以通过 HTTP 方式与其进行交互。​
费用说明​
  * 个人免费版：免费使用[扣子](https://www.coze.cn/?utm_medium=&utm_source=api_doc&utm_content=landingpage&utm_id=&utm_campaign=&utm_term=&utm_source_platform=) API，但有一定的额度限制。​


  * 个人进阶版、团队版和企业版：如果调用​发起对话、​执行工作流、​执行工作流（流式响应）、​执行对话流、​恢复运行工作流（流式响应） API，则根据输入和输出的 Token 数量扣减套餐中的资源点，具体请参见​计费概述。如果团队版和企业版中调用了方舟模型，会根据[方舟模型 Token 消耗](https://www.volcengine.com/docs/84458/1288966#方舟模型服务)收取费用；调用其他接口免费。​


限制说明​
限流策略​
[扣子](https://www.coze.cn/home) API 限流策略分为以下两个维度，且不同用户类型的限流策略不同。​
​
限流策略​| 个人免费版​| 个人进阶版​| 团队版​| 企业版​  
---|---|---|---|---  
​发起对话 API 的流控​| 20 QPS​| 100 QPS​| 200 QPS​| 500 QPS​  
以下关键 API 的流控：​
  * ​执行工作流​


  * ​执行工作流（流式响应）​


  * ​执行对话流​


  * ​查询工作流异步运行结果​


  * ​查询输出节点的执行结果 ​

| 50 QPS​| 100 QPS​| 200 QPS​| 500 QPS​企业超级管理员或管理员可以扩容 API 的 QPS，具体步骤请参见​购买扩容服务。​  
​上传文件API 的流控​| 10 QPS​| 10 QPS​| 20 QPS​| 20 QPS​  
模型流控。​调用​发起对话、​执行工作流、​执行工作流（流式响应）、​执行对话流等涉及模型处理的 API 时，每个用户使用模型的流控。​| 模型每分钟请求数（RPM）为 300。​| 模型每分钟请求数（RPM）为 1000。​| 模型每分钟请求数（RPM）为 5000。​​​| 模型每分钟请求数（RPM）为 12000。​  
API调用量​| 累计 500 次免费额度。​说明一旦累计调用次数超过免费额度，此账号将无法继续使用任何[扣子](https://www.coze.cn/home) API。API 免费额度不适用于通过[扣子](https://www.coze.cn/home)平台、其他发布渠道或 SDK 产生的请求。​​| 不限​| 不限​| 不限​  
​
请求体限制​
API 请求体大小限制如下：​
  * 工作流相关的 API 请求体大小限制为 20MB。​


  * 其他类类别的 API 请求体大小限制为 15MB。​


发送请求​
将以下命令粘贴到终端中以运行你的第一个 API 请求。​
在发送请求前，请将示例中的以下参数值替换成真实数据：​
  * Authorization：生成的[个人访问令牌](https://www.coze.cn/open/oauth/pats)。线上环境注意替换为 OAuth 访问密钥，详情参考​OAuth 应用管理。​


  * bot_id：智能体ID。进入智能体的开发页面，开发页面 URL 中 bot 参数后的数字就是智能体ID。例如https://www.coze.cn/space/341****/bot/73428668*****，bot_id 为73428668*****。​


  * 说明
确保智能体已发布为 API 服务。详情参考​准备工作。​
​


  * user_id：标识当前与智能体交互的用户。调试时可将此参数固定为一个任意字符串，例如 123。​


  * content：发送的消息内容。​


  * ​
Shell
复制
curl --location --request POST 'https://api.coze.cn/v3/chat' \​
\--header 'Authorization: Bearer pat_OYDacMzM3WyOWV3Dtj2bHRMymzxP****' \​
\--header 'Content-Type: application/json' \​
\--data-raw '{​
"bot_id": "73428668*****",​
"user_id": "123123***",​
"stream": false,​
"auto_save_history":true,​
"additional_messages":[​
{​
"role":"user",​
"content":"早上好",​
"content_type":"text"​
}​
]​
}'​
​


  * 说明
如果需要通过火山引擎私有网络访问扣子 API ，请参见​通过私网连接访问扣子 API。​
​


基础概念​
​
名词​| 说明​  
---|---  
会话（Conversation）​| 智能体和用户之间的一段问答交互。一个会话包含一条或多条消息，并且能够自动处理截断，以适应模型的上下文内容。​  
消息（Message）​| 一条由用户或智能体创建的消息，消息内容可以包括文本、图片或文件。消息以列表的形式储存在对话中。​  
对话（Chat）​| 在会话中对智能体的一次调用。智能体收到请求后，结合用户输入、通过预设的一系列工作流等配置来调用模型或工具执行指定任务。每个对话都是会话的一部分，智能体会将对话中产生的消息添加到会话中。​你可以直接发起对话，与智能体进行一次交互；也可以创建会话和消息，并在指定会话中发起对话，会话中的其他消息会作为历史消息传递给大模型。​  
上下文段落（Section）​| 在智能体对话管理中，Section 是一个独立的上下文段落，用于分隔不同的对话阶段或主题。创建会话时会生成一个 Section，Section 中包含上下文消息，当用户清除上下文时，系统会创建一个新的 Section，从而确保新的对话不受历史消息的影响。​会话、消息和上下文段落的关系如下图所示。​​​​![](data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%271052%27%20height=%27412.0333333333333%27/%3e)![](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTA1MiIgaGVpZ2h0PSI0MTIuMDMzMzMzMzMzMzMzMyIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjwvc3ZnPg==)​​  
​
​
下一篇
更新日志
费用说明
限制说明
限流策略
请求体限制
发送请求
基础概念
文档是否帮助到您？
有帮助无帮助
关闭
费用说明
限制说明
限流策略
请求体限制
发送请求
基础概念
![](https://bat.bing.com/action/0?ti=97179855&Ver=2&mid=d3546ba6-9f73-439f-b5ad-ed45f88413b8&bo=1&sid=8e81f320d4c811f0b7fbbd2ec09fdd42&vid=8e821930d4c811f086568d16ae3d9be3&vids=1&msclkid=N&uach=pv%3D19.0.0&pi=0&lg=zh-CN&sw=1280&sh=720&sc=24&nwd=1&tl=%E6%89%A3%E5%AD%90%20-%20AI%20Agent%E6%99%BA%E8%83%BD%E5%8A%9E%E5%85%AC%E5%B9%B3%E5%8F%B0%20-%20%E6%89%A3%E5%AD%90%E7%94%A8AI%E9%87%8D%E5%A1%91%E7%94%9F%E4%BA%A7%E5%8A%9B%E4%B8%8E%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87&kw=%E6%89%A3%E5%AD%90,%20Coze,%20AI%20Agent,%20%E6%99%BA%E8%83%BD%E5%8A%9E%E5%85%AC,%20%E5%8A%9E%E5%85%AC%E6%8F%90%E6%95%88,%20AI%E5%86%99%E4%BD%9C,%20PPT%E7%94%9F%E6%88%90,%20%E7%BD%91%E9%A1%B5%E5%BC%80%E5%8F%91,%20%E7%94%9F%E4%BA%A7%E5%8A%9B%E5%B7%A5%E5%85%B7&p=https%3A%2F%2Fwww.coze.cn%2Fopen%2Fdocs%2Fdeveloper_guides&r=&mtp=10&evt=pageLoad&sv=2&cdb=AQAQ&rn=879480)
![](https://bat.bing.com/action/0?ti=97151251&Ver=2&mid=51a0d280-bdd1-4378-97d5-c441b7a94d89&bo=1&sid=8e81f320d4c811f0b7fbbd2ec09fdd42&vid=8e821930d4c811f086568d16ae3d9be3&vids=0&msclkid=N&uach=pv%3D19.0.0&pi=0&lg=zh-CN&sw=1280&sh=720&sc=24&nwd=1&tl=%E6%89%A3%E5%AD%90%20-%20AI%20Agent%E6%99%BA%E8%83%BD%E5%8A%9E%E5%85%AC%E5%B9%B3%E5%8F%B0%20-%20%E6%89%A3%E5%AD%90%E7%94%A8AI%E9%87%8D%E5%A1%91%E7%94%9F%E4%BA%A7%E5%8A%9B%E4%B8%8E%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87&kw=%E6%89%A3%E5%AD%90,%20Coze,%20AI%20Agent,%20%E6%99%BA%E8%83%BD%E5%8A%9E%E5%85%AC,%20%E5%8A%9E%E5%85%AC%E6%8F%90%E6%95%88,%20AI%E5%86%99%E4%BD%9C,%20PPT%E7%94%9F%E6%88%90,%20%E7%BD%91%E9%A1%B5%E5%BC%80%E5%8F%91,%20%E7%94%9F%E4%BA%A7%E5%8A%9B%E5%B7%A5%E5%85%B7&p=https%3A%2F%2Fwww.coze.cn%2Fopen%2Fdocs%2Fdeveloper_guides&r=&mtp=10&evt=pageLoad&sv=2&cdb=AQAQ&rn=124584)
rangeDom