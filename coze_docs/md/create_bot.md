https://www.coze.cn/open/docs/developer_guides/create_bot

# 扣子
创建
[主页](https://www.coze.cn/sign)[项目开发](https://www.coze.cn/sign)[资源库](https://www.coze.cn/sign)[任务中心](https://www.coze.cn/sign)[效果评测](https://www.coze.cn/sign)[空间配置](https://www.coze.cn/sign)
[模板商店](https://www.coze.cn/sign)[插件商店](https://www.coze.cn/sign)[作品社区](https://www.coze.cn/sign)[API 管理](https://www.coze.cn/open/playground)[文档中心](https://www.coze.cn/open/docs/guides)
目录取消固定
[使用指南](https://www.coze.cn/open/docs/guides)
[开发指南](https://www.coze.cn/open/docs/dev_how_to_guides)
[API 和 SDK](https://www.coze.cn/open/docs/developer_guides)
API 参考
[API 介绍](https://www.coze.cn/open/docs/developer_guides/coze_api_overview)[更新日志](https://www.coze.cn/open/docs/developer_guides/changelog)[准备工作](https://www.coze.cn/open/docs/developer_guides/preparation)[API Playground](https://www.coze.cn/open/docs/developer_guides/api_playground)
鉴权
[鉴权方式概述](https://www.coze.cn/open/docs/developer_guides/authentication)[添加个人访问令牌](https://www.coze.cn/open/docs/developer_guides/pat)[添加服务访问令牌](https://www.coze.cn/open/docs/developer_guides/service_token)[OAuth 应用管理](https://www.coze.cn/open/docs/developer_guides/oauth_apps)[通过示例文件体验 OAuth 授权流程](https://www.coze.cn/open/docs/developer_guides/ouath_demo)[OAuth 授权码授权](https://www.coze.cn/open/docs/developer_guides/oauth_code)[OAuth PKCE](https://www.coze.cn/open/docs/developer_guides/oauth_pkce)[OAuth 设备授权](https://www.coze.cn/open/docs/developer_guides/oauth_device_code)[OAuth JWT 授权（开发者）](https://www.coze.cn/open/docs/developer_guides/oauth_jwt)[OAuth JWT 授权（渠道场景）](https://www.coze.cn/open/docs/developer_guides/oauth_jwt_channel)[OAuth JWT 授权（跨账号授权场景）](https://www.coze.cn/open/docs/developer_guides/oauth_jwt_collaborate)[OAuth JWT 授权（企业特权应用）](https://www.coze.cn/open/docs/developer_guides/oauth_jwt_privilege)[OAuth 授权（多人协作场景）](https://www.coze.cn/open/docs/developer_guides/oauth_collaborate)[鉴权常见问题](https://www.coze.cn/open/docs/developer_guides/authentication_faq)
智能体和应用
[创建智能体](https://www.coze.cn/open/docs/developer_guides/create_bot)[更新智能体](https://www.coze.cn/open/docs/developer_guides/update_bot)[发布智能体](https://www.coze.cn/open/docs/developer_guides/publish_bot)[查看智能体列表](https://www.coze.cn/open/docs/developer_guides/bots_list_draft_published)[查看智能体配置](https://www.coze.cn/open/docs/developer_guides/get_metadata_draft_published)[开启或关闭智能体多人协作](https://www.coze.cn/open/docs/developer_guides/switch_bot_develop_mode)[添加智能体的协作者](https://www.coze.cn/open/docs/developer_guides/add_bot_collaborator)[添加应用的协作者](https://www.coze.cn/open/docs/developer_guides/add_app_collaborator)[删除智能体的协作者](https://www.coze.cn/open/docs/developer_guides/remove_bot_collaborator)[删除应用的协作者](https://www.coze.cn/open/docs/developer_guides/remove_app_collaborator)[查看智能体版本列表](https://www.coze.cn/open/docs/developer_guides/list_bot_versions)[复制资源](https://www.coze.cn/open/docs/developer_guides/copy_resource_task)[查询资源复制的结果](https://www.coze.cn/open/docs/developer_guides/query_resource_copy_execution_result)[下架智能体](https://www.coze.cn/open/docs/developer_guides/unpublish_agent)[Bot object](https://www.coze.cn/open/docs/developer_guides/bot_object)[查看应用列表](https://www.coze.cn/open/docs/developer_guides/published_apps_list)[智能体发布回调事件](https://www.coze.cn/open/docs/developer_guides/agent_callback_messages)[智能体删除回调事件](https://www.coze.cn/open/docs/developer_guides/agent_delete_callback_messages)[智能体下架回调事件](https://www.coze.cn/open/docs/developer_guides/agent_unpublished_callback_messages)
工作空间
[创建工作空间](https://www.coze.cn/open/docs/developer_guides/create_workspace)[查看空间列表](https://www.coze.cn/open/docs/developer_guides/list_workspace)[修改工作空间基本信息](https://www.coze.cn/open/docs/developer_guides/update_workspace_info)[查看空间成员列表](https://www.coze.cn/open/docs/developer_guides/list_space_member)[批量邀请用户加入空间](https://www.coze.cn/open/docs/developer_guides/add_space_member)[批量移除空间中的用户](https://www.coze.cn/open/docs/developer_guides/remove_space_member)
文件夹
[查询文件夹列表](https://www.coze.cn/open/docs/developer_guides/workspace_list_folder)[查询文件夹详情](https://www.coze.cn/open/docs/developer_guides/workspace_read_folder)
企业/组织
[成员管理（火山 API）](https://www.coze.cn/open/docs/developer_guides/create_coze_user)[添加团队/企业成员](https://www.coze.cn/open/docs/developer_guides/add_enterprise_member)[修改企业员工的角色](https://www.coze.cn/open/docs/developer_guides/update_enterprise_people)[移除团队/企业成员](https://www.coze.cn/open/docs/developer_guides/remove_enterprise_member)[创建组织](https://www.coze.cn/open/docs/developer_guides/create_organization)[修改组织基本信息](https://www.coze.cn/open/docs/developer_guides/update_organization_info)[查询组织列表](https://www.coze.cn/open/docs/developer_guides/list_organization)[添加组织成员](https://www.coze.cn/open/docs/developer_guides/add_organization_people)[查询组织成员列表](https://www.coze.cn/open/docs/developer_guides/list_organization_people)[修改组织成员角色](https://www.coze.cn/open/docs/developer_guides/update_organization_people)[移除组织成员](https://www.coze.cn/open/docs/developer_guides/remove_organization_member)
会话与消息
[创建会话](https://www.coze.cn/open/docs/developer_guides/create_conversation)[查看会话信息](https://www.coze.cn/open/docs/developer_guides/retrieve_conversation)[查看会话列表](https://www.coze.cn/open/docs/developer_guides/list_conversations)[更新会话名称](https://www.coze.cn/open/docs/developer_guides/edit_conversation)[删除会话](https://www.coze.cn/open/docs/developer_guides/delete_conversation)[清除上下文](https://www.coze.cn/open/docs/developer_guides/clear_conversation_context)[创建消息](https://www.coze.cn/open/docs/developer_guides/create_message)[查看消息列表](https://www.coze.cn/open/docs/developer_guides/list_message)[查看消息详情](https://www.coze.cn/open/docs/developer_guides/retrieve_message)[修改消息](https://www.coze.cn/open/docs/developer_guides/modify_message)[删除消息](https://www.coze.cn/open/docs/developer_guides/delete_message)[消息 type 说明](https://www.coze.cn/open/docs/developer_guides/message_type)[提交消息评价](https://www.coze.cn/open/docs/developer_guides/message_feedback)[删除消息评价](https://www.coze.cn/open/docs/developer_guides/delete_message_feedback)
对话
[发起对话](https://www.coze.cn/open/docs/developer_guides/chat_v3)[查看对话详情](https://www.coze.cn/open/docs/developer_guides/retrieve_chat)[查看对话消息详情](https://www.coze.cn/open/docs/developer_guides/list_chat_messages)[提交工具执行结果](https://www.coze.cn/open/docs/developer_guides/chat_submit_tool_outputs)[取消进行中的对话](https://www.coze.cn/open/docs/developer_guides/chat_cancel)
工作流
[执行工作流](https://www.coze.cn/open/docs/developer_guides/workflow_run)[执行工作流（流式响应）](https://www.coze.cn/open/docs/developer_guides/workflow_stream_run)[恢复运行工作流（流式响应）](https://www.coze.cn/open/docs/developer_guides/workflow_resume)[恢复运行工作流](https://www.coze.cn/open/docs/developer_guides/resume_workflow)[查询工作流异步运行结果](https://www.coze.cn/open/docs/developer_guides/workflow_history)[执行对话流](https://www.coze.cn/open/docs/developer_guides/workflow_chat)[查询输出节点的执行结果](https://www.coze.cn/open/docs/developer_guides/get_node_execute_history_response)[查询工作流列表](https://www.coze.cn/open/docs/developer_guides/get_workflow_list)[查询工作流基本信息](https://www.coze.cn/open/docs/developer_guides/get_workflow_info)[查询工作流的版本列表](https://www.coze.cn/open/docs/developer_guides/list_workflow_version)[开启或关闭工作流多人协作](https://www.coze.cn/open/docs/developer_guides/switch_workflow_develop_mode)[添加工作流协作者](https://www.coze.cn/open/docs/developer_guides/add_workflow_collaborator)[删除工作流协作者](https://www.coze.cn/open/docs/developer_guides/remove_workflow_collaborator)
文件
[上传文件](https://www.coze.cn/open/docs/developer_guides/upload_files)[查看文件详情](https://www.coze.cn/open/docs/developer_guides/retrieve_files)
智能音视频
ASR、TTS 与音色
[查看音色列表](https://www.coze.cn/open/docs/developer_guides/list_voices)[语音合成](https://www.coze.cn/open/docs/developer_guides/text_to_speech)[语音识别](https://www.coze.cn/open/docs/developer_guides/audio_transcriptions)[复刻音色](https://www.coze.cn/open/docs/developer_guides/clone_voices)
RTC 语音
[创建房间](https://www.coze.cn/open/docs/developer_guides/create_room)[Realtime 上行事件](https://www.coze.cn/open/docs/developer_guides/signaling_uplink_event)[Realtime 下行事件](https://www.coze.cn/open/docs/developer_guides/signaling_downlink_event)[Realtime 事件错误码](https://www.coze.cn/open/docs/developer_guides/realtime_error_codes)
WebSocket 语音
[双向流式语音识别](https://www.coze.cn/open/docs/developer_guides/asr_api)[双向流式语音识别事件](https://www.coze.cn/open/docs/developer_guides/asr_event)[双向流式语音合成](https://www.coze.cn/open/docs/developer_guides/tts_api)[双向流式语音合成事件](https://www.coze.cn/open/docs/developer_guides/tts_event)[双向流式语音对话](https://www.coze.cn/open/docs/developer_guides/streaming_chat_api)[双向流式对话上行事件](https://www.coze.cn/open/docs/developer_guides/streaming_chat_event)[双向流式对话下行事件](https://www.coze.cn/open/docs/developer_guides/streaming_chat_downlink_event)
声纹识别
[创建声纹组](https://www.coze.cn/open/docs/developer_guides/create_voiceprint_group)[查询声纹组列表](https://www.coze.cn/open/docs/developer_guides/list_voiceprint_group)[更新声纹组信息](https://www.coze.cn/open/docs/developer_guides/update_voiceprint_group)[删除声纹组](https://www.coze.cn/open/docs/developer_guides/delete_voiceprint_group)[创建声纹](https://www.coze.cn/open/docs/developer_guides/create_voiceprint)[更新声纹](https://www.coze.cn/open/docs/developer_guides/update_voiceprint)[查询声纹列表](https://www.coze.cn/open/docs/developer_guides/list_voiceprint)[删除声纹](https://www.coze.cn/open/docs/developer_guides/delete_voiceprint)[声纹特征比对](https://www.coze.cn/open/docs/developer_guides/identify_voiceprint)
知识库
[创建知识库](https://www.coze.cn/open/docs/developer_guides/create_dataset)[查看知识库列表](https://www.coze.cn/open/docs/developer_guides/list_dataset)[修改知识库信息](https://www.coze.cn/open/docs/developer_guides/update_dataset)[删除知识库](https://www.coze.cn/open/docs/developer_guides/delete_dataset)[创建知识库文件](https://www.coze.cn/open/docs/developer_guides/create_knowledge_files)[修改知识库文件](https://www.coze.cn/open/docs/developer_guides/modify_knowledge_files)[查看知识库文件列表](https://www.coze.cn/open/docs/developer_guides/list_knowledge_files)[查看知识库文件上传进度](https://www.coze.cn/open/docs/developer_guides/get_dataset_progress)[更新知识库图片描述](https://www.coze.cn/open/docs/developer_guides/update_image_caption)[查看知识库图片列表](https://www.coze.cn/open/docs/developer_guides/get_images)[删除知识库文件](https://www.coze.cn/open/docs/developer_guides/delete_knowdge_files)
插件
[查询付费插件列表](https://www.coze.cn/open/docs/developer_guides/list_plugin)[查询插件分类](https://www.coze.cn/open/docs/developer_guides/list_plugin_category)[查询插件详情](https://www.coze.cn/open/docs/developer_guides/get_plugin)[批量查询插件信息](https://www.coze.cn/open/docs/developer_guides/batch_get_plugins_info)[调用插件工具](https://www.coze.cn/open/docs/developer_guides/call_plugin_tool)[申请插件扩容回调事件](https://www.coze.cn/open/docs/developer_guides/benefit_plugin_scale_requested)[插件扩容到期回调事件](https://www.coze.cn/open/docs/developer_guides/benefit_plugin_scale_expired)
变量
[设置用户变量的值](https://www.coze.cn/open/docs/developer_guides/update_variable)[获取用户变量的值](https://www.coze.cn/open/docs/developer_guides/read_variable)
渠道
[更新审核结果](https://www.coze.cn/open/docs/developer_guides/update_review_result)[添加发布平台](https://www.coze.cn/open/docs/developer_guides/install_channel)[绑定设备](https://www.coze.cn/open/docs/developer_guides/bind_connector_config)
终端用户配额管控
[创建终端用户权益额度](https://www.coze.cn/open/docs/developer_guides/create_device_quotas)[查询终端用户的权益配额](https://www.coze.cn/open/docs/developer_guides/get_device_quotas)[更新终端用户的权益额度](https://www.coze.cn/open/docs/developer_guides/update_device_quotas)
账单与权益
[导出终端用户账单](https://www.coze.cn/open/docs/developer_guides/create_bill_task)[查询账单文件](https://www.coze.cn/open/docs/developer_guides/billing_file)[查询套餐权益](https://www.coze.cn/open/docs/developer_guides/get_benefit)[账单推送回调事件](https://www.coze.cn/open/docs/developer_guides/billing_callback_message)
回调
[创建回调应用](https://www.coze.cn/open/docs/developer_guides/create_callback_app)[修改回调应用](https://www.coze.cn/open/docs/developer_guides/update_callback_app)[查询回调应用列表](https://www.coze.cn/open/docs/developer_guides/list_callback_app)[删除回调应用](https://www.coze.cn/open/docs/developer_guides/delete_callback_app)[订阅回调事件](https://www.coze.cn/open/docs/developer_guides/subscribe_callback_message)[查询已订阅的事件](https://www.coze.cn/open/docs/developer_guides/list_subscribed_callback_message)[取消订阅事件](https://www.coze.cn/open/docs/developer_guides/unsubscribe_callback_message)
历史版本接口
[【Deprecated】查看已发布智能体列表](https://www.coze.cn/open/docs/developer_guides/published_bots_list)[【Deprecated】获取已发布智能体的配置](https://www.coze.cn/open/docs/developer_guides/get_metadata)
[错误码](https://www.coze.cn/open/docs/developer_guides/coze_error_codes)[API 常见问题](https://www.coze.cn/open/docs/developer_guides/api_faq)[模型能力差异](https://www.coze.cn/open/docs/developer_guides/model_api_param_support)
最佳实践
[通过对话接口获取智能体回复](https://www.coze.cn/open/docs/developer_guides/get_chat_response)[错误码 4100/4101 问题排查](https://www.coze.cn/open/docs/developer_guides/troubleshooting_4100_4101)[如何实现会话隔离](https://www.coze.cn/open/docs/developer_guides/session_isolation)[升级企业/团队版后更新 API 授权](https://www.coze.cn/open/docs/developer_guides/update_authorization)
SDK 参考
Chat SDK
[Chat SDK 概述](https://www.coze.cn/open/docs/developer_guides/web_sdk_overview)[安装并使用 Chat SDK](https://www.coze.cn/open/docs/developer_guides/install_web_sdk)[Chat SDK 发布历史](https://www.coze.cn/open/docs/developer_guides/web_sdk_changelog)[（历史版本）Chat SDK](https://www.coze.cn/open/docs/developer_guides/web_sdk)[Chat SDK 常见问题](https://www.coze.cn/open/docs/developer_guides/chat_sdk_faq)
Python SDK
[Python SDK 概述](https://www.coze.cn/open/docs/developer_guides/python_overview)[安装 Python SDK](https://www.coze.cn/open/docs/developer_guides/python_installation)[配置访问密钥](https://www.coze.cn/open/docs/developer_guides/python_access_token)[快速开始](https://www.coze.cn/open/docs/developer_guides/python_getting_started)
Node.js SDK
[Node.js SDK 概述](https://www.coze.cn/open/docs/developer_guides/nodejs_overview)[安装 Node.js SDK](https://www.coze.cn/open/docs/developer_guides/nodejs_install)[配置访问密钥](https://www.coze.cn/open/docs/developer_guides/nodejs_access_token)[快速开始](https://www.coze.cn/open/docs/developer_guides/nodejs_getting_started)
Java SDK
[Java SDK 概述](https://www.coze.cn/open/docs/developer_guides/java_overview)[安装 Java SDK](https://www.coze.cn/open/docs/developer_guides/java_installation)[配置访问密钥](https://www.coze.cn/open/docs/developer_guides/java_access_token)[快速开始](https://www.coze.cn/open/docs/developer_guides/java_getting_started)
Go SDK
[Go SDK 概述](https://www.coze.cn/open/docs/developer_guides/go_overview)[安装 Go SDK](https://www.coze.cn/open/docs/developer_guides/go_installation)[配置访问密钥](https://www.coze.cn/open/docs/developer_guides/go_access_token)[快速开始](https://www.coze.cn/open/docs/developer_guides/go_getting_started)
Web SDK
[安装并使用 Web SDK](https://www.coze.cn/open/docs/developer_guides/ui_builder_web_sdk)
Card SDK
[安装并使用 Card SDK](https://www.coze.cn/open/docs/developer_guides/card_sdk)
[实践教程](https://www.coze.cn/open/docs/tutorial)
[扣子空间](https://www.coze.cn/open/docs/cozespace)
[扣子罗盘](https://www.coze.cn/open/docs/cozeloop)
[客户案例](https://www.coze.cn/open/docs/customers)
[定价与购买](https://www.coze.cn/open/docs/coze_pro)
目录
大纲
创建智能体
创建一个新的智能体。​
创建的智能体为未发布的草稿状态，创建后可以在扣子开发平台智能体列表中查看智能体。调用[发布智能体](https://www.coze.cn/docs/developer_guides/publish_bot) API 发布智能体后，才能通过[查看智能体列表](https://docs.coze.cn/developer_guides/bots_list_draft_published)或[查看智能体配置](https://docs.coze.cn/developer_guides/get_metadata_draft_published) API 查看此智能体。​
通过 API 方式创建智能体时，支持为智能体设置所在空间、智能体名称和描述、头像、人设与回复逻辑及开场白。​
基础信息​
​
请求方式​| POST  
---|---  
请求地址​| ​Plain Text复制https://api.coze.cn/v1/bot/create​  
权限​| createBot​确保调用该接口使用的访问令牌开通了 createBot 权限，详细信息参考[鉴权方式](https://www.coze.cn/docs/developer_guides/authentication)。​  
接口说明​| 调用接口创建一个新的智能体。​  
​
请求参数​
Header​
​
参数​| 取值​| 说明​  
---|---|---  
Authorization​| Bearer $AccessToken​| 用于验证客户端身份的访问令牌。你可以在扣子平台中生成访问令牌，详细信息，参考[准备工作](https://www.coze.cn/docs/developer_guides/preparation)。​  
Content-Type​| application/json​| 解释请求正文的方式。​  
​
Body​
​
参数​| 类型​| 是否必选​| 示例​| 说明​  
---|---|---|---|---  
space_id​| String​| 必选​| 736142423532160****​| 智能体所在的空间的 Space ID。Space ID 是空间的唯一标识。​进入指定空间，空间页面 URL 中 space 参数后的数字就是 Space ID。例如https://www.coze.cn/space/736163827687053****/bot，Space ID 为736163827687053****。​  
name​| String​| 必选​| 每日学一菜​| 智能体的名称。长度为 1~ 20 个字符。​  
description​| String​| 可选​| 每天教你一道菜的做法，暑假之后你将成为中餐大厨～​| 智能体的描述信息。长度为 0~ 500 个字符。默认为空。​  
icon_file_id​| String​| 可选​| 73694959811****​| 作为智能体头像的文件 ID。​
  * 未指定文件 ID 时，扣子平台默认为智能体指定一个头像。​


  * 如需使用自定义头像，应先通过[上传文件](https://www.coze.cn/docs/developer_guides/upload_files)接口上传本地文件，从接口响应中获取文件 ID。文件 ID 作为智能体头像时，有效期为永久有效。​

  
prompt_info​| Object of PromptInfo​| 可选​| { "prompt": "你是一位经验丰富的中餐大厨，能够熟练传授各类中餐的烹饪技巧，每日为大学生厨师小白教学一道经典中餐的制作方法。" }​| 智能体的人设与回复逻辑。​  
onboarding_info​| Object of OnboardingInfo​| 可选​| { "prologue": "欢迎你，学徒，今天想学一道什么样的菜？", "suggested_questions": [ "川菜，我想吃辣的", "广东菜，来点鲜的", "随机教我一道菜" ] }​| 智能体的开场白和预置问题相关设置。​  
plugin_id_list​| Object of PluginIdList​| 可选​| { "id_list": [ { "plugin_id": "731198934927553****", "api_id": "735057536617362****" } ] }​| 智能体的插件配置。​  
workflow_id_list​| Object of WorkflowIdList​| 可选​| {"ids":[{"id":"746049108611037****"}]}​| 智能体绑定的工作流 ID 列表，用于配置智能体关联的工作流。​  
model_info_config​| Object of ModelInfoConfig​| 可选​| {"model_id":"1706077826"}​| 智能体的模型配置，用于指定智能体绑定的模型 ID 及相关参数。不同模型支持的配置参数及取值范围各不相同，可在扣子平台的模型列表中查看具体参数及取值范围。​  
suggest_reply_info​| Object of SuggestReplyInfo​| 可选​| {"reply_mode":"enable"}​| 配置智能体回复后是否提供用户问题建议。​  
​
PromptInfo​
​
参数​| 类型​| 是否必选​| 示例​| 说明​  
---|---|---|---|---  
prompt​| String​| 可选​| 你是一位经验丰富的中餐大厨，能够熟练传授各类中餐的烹饪技巧，每日为大学生厨师小白教学一道经典中餐的制作方法。​| 智能体的人设与回复逻辑。长度为 0~ 20,000 个字符。默认为空。​开启前缀缓存后，不支持通过 prompt 参数设置提示词，需要通过 prefix_prompt_info 参数设置提示词。​  
prompt_mode​| String​| 可选​| standard​| 提示词模式，用于指定智能体的人设与回复逻辑的配置方式。枚举值：​
  * standard（默认值）：标准模式。未开启前缀缓存时使用该模式。​


  * prefix：前缀缓存模式，提示词会分为缓存提示词和非缓存提示词两部分。开启前缀缓存后需要设置为该模式。​

  
prefix_prompt_info​| Object of PrefixPromptInfo​| 可选​| \​| 通过 cache_type 或 parameters.caching.type开启前缀缓存后，你需要通过该参数设置缓存提示词（prefix_prompt）和 非缓存提示词（dynamic_prompt）。不支持通过 prompt 参数设置提示词。​  
​
PrefixPromptInfo​
​
参数​| 类型​| 是否必选​| 示例​| 说明​  
---|---|---|---|---  
prefix_prompt​| String​| 可选​| \​| 缓存提示词，大量重复出现的固定规则、模板框架或背景信息，用于指引大模型输出格式与风格。扣子会将其缓存并复用，大模型无需重新解析这部分固定信息。​  
dynamic_prompt​| String​| 可选​| \​| 非缓存提示词，动态变化的个性化信息，仅针对当前请求生效。​  
​
OnboardingInfo​
​
参数​| 类型​| 是否必选​| 示例​| 说明​  
---|---|---|---|---  
prologue​| String​| 可选​| 欢迎你，学徒，今天想学一道什么样的菜？​| 智能体的开场白。长度为 0~ 300 个字符。默认无开场白。​开场白中如果设置了用户名称变量{{user_name}}，API 场景中需要业务方自行处理，例如展示开场白时将此变量替换为业务侧的用户名称。​  
suggested_questions​| Array of String​| 可选​| ["川菜，我想吃辣的","广东菜，来点鲜的","随机教我一道菜"]​| 智能体的开场白预置问题。每个问题长度为 0~ 50 个字符，问题数量无限制。默认无开场白预置问题。​  
​
PluginIdList​
​
参数​| 类型​| 是否必选​| 示例​| 说明​  
---|---|---|---|---  
id_list​| Array of PluginIdInfo​| 可选​| { "id_list": [ { "plugin_id": "731198934927553****", "api_id": "735057536617362****" } ] }​| 智能体的插件列表配置。​  
​
PluginIdInfo​
​
参数​| 类型​| 是否必选​| 示例​| 说明​  
---|---|---|---|---  
api_id​| String​| 必选​| 735057536617362****​| 智能体绑定的插件工具 ID。​在扣子平台中打开指定插件工具页面，页面 URL 中 tool 参数后的数字就是插件工具 ID。例如 https://www.coze.cn/space/731762895654132****/plugin/735057533610021****/tool/735057536617362****，插件工具 ID 为 735057536617362****。​  
plugin_id​| String​| 必选​| 731198934927553****​| 智能体绑定的插件 ID。​在扣子平台中打开指定插件页面，页面 URL 中 plugin 参数后的数字就是插件 ID。例如​https://www.coze.cn/space/728826510807216****/plugin/731198934927553****，插件 ID 为 731198934927553****。​  
​
WorkflowIdList​
​
参数​| 类型​| 是否必选​| 示例​| 说明​  
---|---|---|---|---  
ids​| Array of WorkflowIdInfo​| 可选​|  [ { "id": "746049108611037****" }]​| 智能体的工作流列表配置。​  
​
WorkflowIdInfo​
​
参数​| 类型​| 是否必选​| 示例​| 说明​  
---|---|---|---|---  
id​| String​| 必选​| 746049108611037****​| 智能体绑定的工作流 ID。​进入工作流的编排页面，在页面 URL 中，workflow 参数后的数字就是工作流 ID。例如 https://www.coze.com/work_flow?space_id=42463***&workflow_id=73505836754923***，工作流 ID 为 73505836754923***。​  
​
ModelInfoConfig​
​
参数​| 类型​| 是否必选​| 示例​| 说明​  
---|---|---|---|---  
model_id​| String​| 必选​| 1706077826​| 智能体绑定的模型 ID。​在工作空间的模型管理页面中单击指定模型，模型详情页面 URL 中 model 参数后的数字就是模型 ID。例如https://www.coze.cn/space/7288****/model/1716****，模型 ID 为 1716****。​  
top_k​| Integer​| 可选​| 50​| 生成文本时，采样候选集的大小。该参数控制模型在生成每个词时考虑的候选词数量，值越小生成的文本越保守和确定，值越大生成的文本越多样和随机。​  
top_p​| Double​| 可选​| 1​| Top P，即累计概率。该参数控制模型在生成文本时的采样策略，值越小生成的文本越保守和确定，值越大生成的文本越多样和随机。​说明部分模型不支持该参数，具体支持的模型请参见[模型能力差异](https://www.coze.cn/open/docs/developer_guides/model_api_param_support)。​​  
max_tokens​| Integer​| 可选​| 4096​| 最大回复长度。​  
temperature​| Double​| 可选​| 1​| 生成随机性。​说明部分模型不支持该参数，具体支持的模型请参见[模型能力差异](https://www.coze.cn/open/docs/developer_guides/model_api_param_support)。​​  
sp_anti_leak​| Boolean​| 可选​| true​| 是否启用 SP 拼接防泄露指令，开启后，当用户尝试获取或复述系统内部的规则、提示词或其他敏感内容时，智能体将礼貌地拒绝用户的请求，确保机密信息不被泄露。​
  * true：开启系统提示词防泄漏。​


  * false：（默认值）关闭系统提示词防泄漏。​

  
context_round​| Integer​| 可选​| 30​| 携带上下文轮数。​  
response_format​| String​| 可选​| text​| 输出格式。取值：​
  * text：文本。​


  * markdown：Markdown格式。​


  * json：JSON 格式。​

  
sp_current_time​| Boolean​| 可选​| true​| 是否在 SP 中包含当前时间信息。​
  * true：智能体在与用户对话时能实时获取并提供准确的时间信息。​


  * false：（默认值）在系统提示词中不会拼接当前时间信息。​

  
presence_penalty​| Double​| 可选​| 0​| 重复主题惩罚。​  
frequency_penalty​| Double​| 可选​| 0​| 重复语句惩罚。​  
cache_type​| String​| 可选​| closed​| 为模型开启或关闭前缀缓存。开启前缀缓存后，扣子将自动缓存公共前缀内容，后续调用模型时无需重复发送，从而加快模型的响应速度并降低使用成本。具体用法请参见[前缀缓存](https://www.coze.cn/open/docs/guides/llm#8b3b9036)。枚举值：​
  * closed（默认值）：关闭前缀缓存。​


  * prefix：开启前缀缓存。​

说明
  * 套餐限制：仅扣子个人进阶版、团队版和企业版支持开启上下文前缀缓存。​


  * 模型限制：仅部分模型支持该参数，具体支持的模型请参见[模型能力差异](https://www.coze.cn/open/docs/developer_guides/model_api_param_support)。​


  * 其他限制：该参数仅适用于 Context API 协议，Responses API 协议的前缀缓存需要通过 parameters 参数进行配置。​

​  
api_mode​| String​| 可选​| chat_api​| 模型的 API 协议类型，用于指定智能体与模型交互时使用的 API 协议。枚举值：​
  * chat_api（默认值）：智能体需要在请求时带上对话历史作为上下文。适用于日常闲聊、基础咨询、简单文本生成等轻量化需求。​


  * responses_api：模型新推出的 API，不仅延续了 Chat API 的易用性，还原生支持高效的上下文管理和前缀缓存。适用于需要多步推理等复杂任务链处理的场景。​

说明仅部分模型支持responses_api协议，具体支持的模型请参见[模型能力差异](https://www.coze.cn/open/docs/developer_guides/model_api_param_support)。​​  
parameters​| JSON Map​| 可选​| 深度思考示例：​{"thinking_type": "disabled"}​上下文管理示例：​{"caching":{"type":"disabled"},"store":true,"caching_expire_time":259200}​| 你可以通过该参数配置模型深度思考和responses_api的上下文管理相关配置。​
  * 深度思考：开发者可以设置开启或关闭深度思考，从而灵活控制模型在交互过程中的 Token 消耗。​


  * 说明仅部分模型支持深度思考开关，具体支持的模型请参见[模型能力差异](https://www.coze.cn/open/docs/developer_guides/model_api_param_support)。​​


  * 深度思考 thinking_type 的值可以设置为：​


  * enabled：开启深度思考。智能体在与用户对话时会先输出一段思维链内容，通过逐步拆解问题、梳理逻辑，提升最终输出答案的准确性。但该模式会因额外的推理步骤消耗更多 Token。​


  * 说明开启深度思考后：​
    * 模型不支持 Function Call，即工具调用。​
    * 智能体不能使用插件、触发器、变量、数据库、文件盒子、不能添加工作流和对话流。​
    * 不支持使用插件和工作流相关的快捷指令。​
​


  * disabled：关闭深度思考。智能体将直接生成最终答案，不再经过额外的思维链推理过程，可有效降低 Token 消耗，提升响应速度。​


  * auto：启用自动模式后，模型会根据对话内容的复杂度，自动判断是否启用深度思考。​


  * 上下文管理：当 api_mode 为 responses_api时，支持配置前缀缓存、存储和存储时长。​


  * 说明仅部分模型支持前缀缓存，具体支持的模型请参见[模型能力差异](https://www.coze.cn/open/docs/developer_guides/model_api_param_support)。​​


  * 上下文管理的具体参数如下：​


  * caching.type：你可以设置为 enabled 或disabled，开启或关闭前缀缓存。默认为 disabled。前缀缓存的具体用法请参考[前缀缓存](https://www.coze.cn/open/docs/guides/llm#8b3b9036)。​


  * store：你可以设置为 true 或 false，开启或关闭存储功能。开启后将自动存储输入、输出字段的消息，不存储思维链中的消息。默认为 true 。若需使用前缀缓存功能，需开启存储功能。​


  * caching_expire_time：设置上下文缓存和存储的有效时长，单位：秒。最大为 259200 秒（3天）。默认值：259200。​

  
​
SuggestReplyInfo​
​
参数​| 类型​| 是否必选​| 示例​| 说明​  
---|---|---|---|---  
reply_mode​| String​| 可选​| enable​| 配置智能体回复后，是否提供用户问题建议。枚举值：​
  * enable：在智能体回复后，提供最多 3 条用户问题建议。​


  * disable：在每次智能体回复后，不会提供任何用户问题建议。​


  * customized：开启用户问题建议，并根据用户自定义的 Prompt 提供用户问题建议。你需要在 customized_prompt 参数中设置关于用户问题建议的 Prompt。​

  
customized_prompt​| String​| 可选​| 问题应该与你最后一轮的回复紧密相关，可以引发进一步的讨论。​| 关于用户问题建议的 Prompt。当 reply_mode 设置为 customized时，需要设置提示词内容。智能体会根据该提示词生成用户问题建议。​  
​
​
返回参数​
​
参数​| 类型​| 示例​| 说明​  
---|---|---|---  
code​| Long​| 0​| 调用状态码。​
  * 0 表示调用成功。​


  * 其他值表示调用失败。你可以通过 msg 字段判断详细的错误原因。​

  
msg​| String​| ""​| 状态信息。API 调用失败时可通过此字段查看详细错误信息。​状态码为 0 时，msg 默认为空。​  
data​| Object of CreateDraftBotData​| { "bot_id": "73428668*****" }​| 已创建的智能体信息。​  
detail​| Object of ResponseDetail​| {"logid":"20241210152726467C48D89D6DB2****"}​| 包含请求的详细信息的对象，主要用于记录请求的日志 ID 以便于排查问题。​  
​
CreateDraftBotData​
​
参数​| 类型​| 示例​| 说明​  
---|---|---|---  
bot_id​| String​| 73428668*****​| 创建的智能体 ID。​  
​
ResponseDetail​
​
参数​| 类型​| 示例​| 说明​  
---|---|---|---  
logid​| String​| 20241210152726467C48D89D6DB2****​| 本次请求的日志 ID。如果遇到异常报错场景，且反复重试仍然报错，可以根据此 logid 及错误码联系扣子团队获取帮助。详细说明可参考[获取帮助和技术支持](https://www.coze.cn/docs/guides/help_and_support)。​  
​
示例​
请求示例​
​
JSON
复制
curl --location --request POST 'https://api.coze.cn/v1/bot/create' \​
\--header 'Authorization: Bearer $AccessToken' \​
\--header 'Content-Type: application/json' \​
\--data-raw '{​
"space_id": "736142423532160****",​
"name": "每日学一菜",​
"description": "每天教你一道菜的做法，暑假之后你将成为中餐大厨～",​
"icon_file_id": "73694959811****",​
"prompt_info": {​
"prompt": "你是一位经验丰富的中餐大厨，能够熟练传授各类中餐的烹饪技巧，每日为大学生厨师小白教学一道经典中餐的制作方法。"​
},​
"plugin_id_list": {​
"id_list": [​
{​
"plugin_id": "731198934927553****",​
"api_id": "735057536617362****"​
}​
]​
},​
"onboarding_info": {​
"prologue": "欢迎你，学徒，今天想学一道什么样的菜？",​
"suggested_questions": [​
"川菜，我想吃辣的",​
"广东菜，来点鲜的",​
"随机教我一道菜"​
]​
},​
"workflow_id_list": {​
"ids": [​
{​
"id": "746049108611037****"​
}​
]​
},​
"model_info_config": {​
"model_id": "1706077826"​
}​
}'​
​
返回示例​
​
JSON
复制
{​
"code": 0,​
"msg": "",​
"data": {​
"bot_id": "73428668*****"​
},​
"detail": {​
"logid": "20241210152726467C48D89D6DB2****"​
}​
}
​
错误码​
如果成功调用扣子的 API，返回信息中 code 字段为 0。如果状态码为其他值，则表示接口调用失败。此时 msg 字段中包含详细错误信息，你可以参考[错误码](https://www.coze.cn/docs/developer_guides/coze_error_codes)文档查看对应的解决方法。​
​
上一篇
鉴权常见问题
下一篇
更新智能体
基础信息
请求参数
Header
Body
PromptInfo
PrefixPromptInfo
OnboardingInfo
PluginIdList
PluginIdInfo
WorkflowIdList
WorkflowIdInfo
ModelInfoConfig
SuggestReplyInfo
返回参数
CreateDraftBotData
ResponseDetail
示例
请求示例
返回示例
错误码
文档是否帮助到您？
有帮助无帮助
关闭
基础信息
请求参数
Header
Body
PromptInfo
PrefixPromptInfo
OnboardingInfo
PluginIdList
PluginIdInfo
WorkflowIdList
WorkflowIdInfo
ModelInfoConfig
SuggestReplyInfo
返回参数
CreateDraftBotData
ResponseDetail
示例
请求示例
返回示例
错误码
![](https://bat.bing.com/action/0?ti=97151251&Ver=2&mid=6fc90aee-c820-4c02-8eea-900fc62e07a1&bo=1&sid=a6c3ee30d4c211f0966da1ab2d8de18c&vid=a6c3dd00d4c211f0a7ba75271dd5e1e5&vids=0&msclkid=N&uach=pv%3D19.0.0&pi=0&lg=zh-CN&sw=1280&sh=720&sc=24&nwd=1&tl=%E6%96%87%E6%A1%A3%20-%20%E6%89%A3%E5%AD%90&kw=%E6%89%A3%E5%AD%90,%20Coze,%20AI%20Agent,%20%E6%99%BA%E8%83%BD%E5%8A%9E%E5%85%AC,%20%E5%8A%9E%E5%85%AC%E6%8F%90%E6%95%88,%20AI%E5%86%99%E4%BD%9C,%20PPT%E7%94%9F%E6%88%90,%20%E7%BD%91%E9%A1%B5%E5%BC%80%E5%8F%91,%20%E7%94%9F%E4%BA%A7%E5%8A%9B%E5%B7%A5%E5%85%B7&p=https%3A%2F%2Fwww.coze.cn%2Fopen%2Fdocs%2Fdeveloper_guides%2Fcreate_bot&r=&lt=1119&mtp=10&evt=pageLoad&sv=2&cdb=AQAQ&rn=774927)
![](https://bat.bing.com/action/0?ti=97179855&Ver=2&mid=d842e430-a392-4a1c-840b-20aac1b3c916&bo=1&sid=a6c3ee30d4c211f0966da1ab2d8de18c&vid=a6c3dd00d4c211f0a7ba75271dd5e1e5&vids=0&msclkid=N&uach=pv%3D19.0.0&pi=0&lg=zh-CN&sw=1280&sh=720&sc=24&nwd=1&tl=%E6%96%87%E6%A1%A3%20-%20%E6%89%A3%E5%AD%90&kw=%E6%89%A3%E5%AD%90,%20Coze,%20AI%20Agent,%20%E6%99%BA%E8%83%BD%E5%8A%9E%E5%85%AC,%20%E5%8A%9E%E5%85%AC%E6%8F%90%E6%95%88,%20AI%E5%86%99%E4%BD%9C,%20PPT%E7%94%9F%E6%88%90,%20%E7%BD%91%E9%A1%B5%E5%BC%80%E5%8F%91,%20%E7%94%9F%E4%BA%A7%E5%8A%9B%E5%B7%A5%E5%85%B7&p=https%3A%2F%2Fwww.coze.cn%2Fopen%2Fdocs%2Fdeveloper_guides%2Fcreate_bot&r=&lt=1119&mtp=10&evt=pageLoad&sv=2&cdb=AQAQ&rn=700955)
rangeDom